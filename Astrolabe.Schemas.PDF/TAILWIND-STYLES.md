# Tailwind CSS Style Support in Astrolabe.Schemas.PDF

This document describes the Tailwind CSS classes supported for styling PDF documents generated by Astrolabe.Schemas.PDF using QuestPDF.

## Overview

Tailwind classes are applied through three properties on `ControlDefinition`:

- **`StyleClass`** - Applied to the content/text of controls
- **`LabelClass`** - Applied to labels (titles) of controls
- **`LayoutClass`** - Applied to the container/layout of controls

## Supported Styles

### 📐 Layout Styles

Applied via `LayoutClass` or `StyleClass` properties.

#### Width

| Class Pattern | Example | Description |
|--------------|---------|-------------|
| `w-{number}` | `w-24`, `w-80` | Width in Tailwind units (×4 for pixels) |
| `min-w-{number}` | `min-w-40` | Minimum width in Tailwind units |
| `max-w-{number}` | `max-w-96` | Maximum width in Tailwind units |
| `w-fit` | `w-fit` | Shrink to fit content |
| `w-[{number}px]` | `w-[100px]` | Arbitrary width in pixels |
| `min-w-[{number}px]` | `min-w-[50px]` | Arbitrary minimum width |
| `max-w-[{number}px]` | `max-w-[200px]` | Arbitrary maximum width |

**Note:** Standard Tailwind units are multiplied by 4 to convert to pixels (e.g., `w-20` = 80px).

#### Padding

| Class Pattern | Example | Description |
|--------------|---------|-------------|
| `p-{number}` | `p-4` | Padding all sides (×4 for pixels) |
| `px-{number}` | `px-2` | Horizontal padding (left + right) |
| `py-{number}` | `py-3` | Vertical padding (top + bottom) |
| `pt-{number}` | `pt-1` | Padding top |
| `pb-{number}` | `pb-2` | Padding bottom |
| `pl-{number}` | `pl-3` | Padding left |
| `pr-{number}` | `pr-4` | Padding right |
| `p-[{number}px]` | `p-[10px]` | Arbitrary padding all sides |
| `px-[{number}px]` | `px-[20px]` | Arbitrary horizontal padding |
| `py-[{number}px]` | `py-[15px]` | Arbitrary vertical padding |

**Note:** Multiple padding classes can be combined. Later values override earlier ones for the same side.

#### Background Color

| Class Pattern | Example | Description |
|--------------|---------|-------------|
| `bg-[#{hex}]` | `bg-[#ffffff]` | Background color using hex code |
| | `bg-[#f5f5f5]` | Supports 3, 4, 6, and 8 digit hex codes |
| | `bg-[#000]` | Short form hex colors |

**Note:** Only arbitrary hex colors are currently supported (not named colors like `bg-blue-500`).

### 🎨 Typography Styles

Applied via `StyleClass` or `LabelClass` properties.

#### Font Size

| Class | Font Size | Line Height |
|-------|-----------|-------------|
| `text-xs` | 12px | 16px |
| `text-sm` | 14px | 20px |
| `text-base` | 16px | 24px |
| `text-lg` | 18px | 28px |
| `text-xl` | 20px | 28px |
| `text-2xl` | 24px | 32px |
| `text-3xl` | 30px | 36px |
| `text-4xl` | 36px | 40px |
| `text-5xl` | 48px | 48px |
| `text-6xl` | 60px | 60px |
| `text-7xl` | 72px | 72px |
| `text-8xl` | 96px | 96px |
| `text-9xl` | 128px | 128px |
| `text-[{number}px]` | Custom | 1.5× font size |

**Example:** `text-[18px]` sets font size to 18px with line height 27px.

#### Font Weight

| Class | Weight | QuestPDF Equivalent |
|-------|--------|---------------------|
| `font-thin` | 100 | Thin |
| `font-extralight` | 200 | ExtraLight |
| `font-light` | 300 | Light |
| `font-normal` | 400 | Normal |
| `font-medium` | 500 | Medium |
| `font-semibold` | 600 | SemiBold |
| `font-bold` | 700 | Bold |
| `font-extrabold` | 800 | ExtraBold |
| `font-black` | 900 | Black |
| `font-extrablack` | 950 | ExtraBlack |

#### Font Style

| Class | Description |
|-------|-------------|
| `italic` | Italic text |
| `not-italic` | Remove italic styling |

#### Text Decoration

**Decoration Type:**

| Class | Description |
|-------|-------------|
| `underline` | Underline text |
| `overline` | Line above text |
| `line-through` | Strikethrough text |
| `no-underline` | Remove decoration |

**Decoration Style:**

| Class | Description |
|-------|-------------|
| `decoration-solid` | Solid line |
| `decoration-double` | Double line |
| `decoration-dotted` | Dotted line |
| `decoration-dashed` | Dashed line |
| `decoration-wavy` | Wavy line |

#### Text Color

| Class Pattern | Example | Description |
|--------------|---------|-------------|
| `text-[#{hex}]` | `text-[#000000]` | Text color using hex code |
| | `text-[#666666]` | Supports 3, 4, 6, and 8 digit hex codes |
| | `text-[#fff]` | Short form hex colors |

**Note:** Only arbitrary hex colors are currently supported (not named colors like `text-blue-500`).

#### Text Alignment

| Class | Description |
|-------|-------------|
| `text-left` | Align text to the left |
| `text-center` | Center text |
| `text-right` | Align text to the right |
| `text-justify` | Justify text |
| `text-start` | Align to start (LTR: left, RTL: right) |
| `text-end` | Align to end (LTR: right, RTL: left) |

**Note:** Text alignment is applied to `TextDescriptor` elements, not `TextSpanDescriptor`.

### 📏 Spacing (Gap)

Applied via `StyleClass` on `GroupedControlsDefinition`.

#### Column Gap (Vertical Spacing)

| Class Pattern | Example | Description |
|--------------|---------|-------------|
| `gap-{number}` | `gap-4` | Gap between items (×4 for pixels) |
| `gap-y-{number}` | `gap-y-6` | Vertical gap between items |
| `gap-[{number}px]` | `gap-[10px]` | Arbitrary gap in pixels |
| `gap-y-[{number}px]` | `gap-y-[20px]` | Arbitrary vertical gap |

**Note:** Currently only column (vertical) gaps are supported. Row gaps are commented out in the code.

## Usage Examples

### Basic Typography

```csharp
new DataControlDefinition("title")
{
    Title = "Document Title",
    StyleClass = "text-3xl font-bold text-[#1a1a1a]"
}
```

### Layout with Padding and Background

```csharp
new DataControlDefinition("content")
{
    Title = "Content",
    LayoutClass = "p-6 bg-[#f5f5f5] w-80"
}
```

### Styled Labels

```csharp
new DataControlDefinition("field")
{
    Title = "Field Name",
    LabelClass = "text-sm font-semibold text-[#6c757d]",
    StyleClass = "text-base font-normal text-[#212529]"
}
```

### Grouped Controls with Gap

```csharp
new GroupedControlsDefinition
{
    Title = "Section",
    StyleClass = "gap-4 p-6 bg-[#ffffff]",
    Children = new ControlDefinition[]
    {
        new DataControlDefinition("field1") { Title = "Field 1" },
        new DataControlDefinition("field2") { Title = "Field 2" }
    }
}
```

### Complex Combined Styling

```csharp
new DataControlDefinition("title")
{
    Title = "Complex Example",
    LabelClass = "text-sm font-semibold text-[#6c757d] p-2",
    StyleClass = "text-2xl font-bold text-[#212529] underline decoration-solid",
    LayoutClass = "p-4 bg-[#f8f9fa] min-w-60 max-w-96"
}
```

## Implementation Details

### Parser Architecture

The Tailwind style parsing is implemented across four parser classes:

1. **`PdfStyleParser.cs`** - Main entry point that orchestrates style parsing
2. **`PdfTypographyParser.cs`** - Handles all typography-related styles
3. **`PdfLayoutParser.cs`** - Handles layout properties (width, padding, background)
4. **`PdfGapParser.cs`** - Handles spacing between grouped elements

### How Styles Are Applied

Styles are parsed from space-separated class names and applied to QuestPDF descriptors:

```csharp
// StyleClass is parsed when rendering content
var styleClassNames = pdfContext.StyleClassNames.Value;
text.Span(value).WithStyles(styleClassNames);

// LayoutClass is parsed for container layout
var layoutClassNames = pdfContext.LayoutClassNames.Value;
container.Element(x => x.RunLayoutParser(layoutClassNames));

// LabelClass is parsed for labels
var labelClassNames = pdfContext.LabelClassNames.Value;
text.RenderText(labelText, labelClassNames);
```

### Parsing Rules

- Multiple classes can be combined in a single class string
- Classes are processed in order
- Later values generally override earlier values (e.g., padding sides, widths)
- For padding, the maximum value is used when multiple classes affect the same side
- Colors use the last matching class

## Limitations

### Currently Not Supported

- Named color classes (e.g., `bg-blue-500`, `text-red-600`)
- Row gaps (horizontal spacing) - only column gaps work
- Margin classes
- Border classes
- Flexbox/Grid layout classes
- Responsive classes (e.g., `md:text-lg`)
- Hover/focus states
- Transform/transition classes

### QuestPDF Constraints

Some Tailwind features cannot be supported due to QuestPDF's rendering model:
- Dynamic/interactive styles (hover, focus, active states)
- Animations and transitions
- Complex layouts (flexbox, grid) - QuestPDF uses Row/Column instead

## Testing

Comprehensive tests are available in `Astrolabe.Schemas.PDF.Tests/TailwindStyleTests.cs`:

- `Should_Apply_Typography_Styles` - Font sizes, weights, decorations, colors
- `Should_Apply_Layout_Styles` - Width, padding, background colors
- `Should_Apply_Label_Styles` - Separate styling for labels vs content
- `Should_Apply_Gap_And_Spacing_Styles` - Gap spacing in grouped controls
- `Should_Apply_Text_Alignment_Styles` - Text alignment options
- `Should_Apply_Combined_Styles` - Complex combinations of multiple style types

Run tests with:
```bash
dotnet test Astrolabe.Schemas.PDF.Tests --filter "FullyQualifiedName~TailwindStyleTests"
```

## Future Enhancements

Potential additions to consider:

- Named Tailwind color palette support (e.g., `bg-blue-500`)
- Border styling (`border`, `border-{side}`, `rounded`)
- Margin support (`m-`, `mx-`, `my-`, etc.)
- Row gap support for horizontal layouts
- More comprehensive width/height utilities
- Font family selection
- Letter spacing and line height overrides
